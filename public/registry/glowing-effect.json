{
  "name": "glowing-effect",
  "type": "registry:ui",
  "dependencies": [
    "motion-v",
    "clsx",
    "tailwind-merge"
  ],
  "files": [
    {
      "path": "glowing-effect/GlowingEffect.vue",
      "content": "<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted, onBeforeUnmount } from 'vue'\r\nimport { cn } from '@/lib/utils'\r\nimport { Motion } from 'motion-v'\r\n\r\ndefineOptions({\r\n  inheritAttrs: false\r\n})\r\n\r\ninterface GlowingEffectProps {\r\n  blur?: number\r\n  inactiveZone?: number\r\n  proximity?: number\r\n  spread?: number\r\n  variant?: 'default' | 'white'\r\n  glow?: boolean\r\n  disabled?: boolean\r\n  movementDuration?: number\r\n  borderWidth?: number\r\n}\r\n\r\nconst props = withDefaults(defineProps<GlowingEffectProps>(), {\r\n  blur: 0,\r\n  inactiveZone: 0.7,\r\n  proximity: 0,\r\n  spread: 20,\r\n  variant: 'default',\r\n  glow: false,\r\n  movementDuration: 2,\r\n  borderWidth: 1,\r\n  disabled: true,\r\n})\r\n\r\nconst containerRef = ref<HTMLElement | null>(null)\r\nconst angle = ref(0)\r\nconst isActive = ref(false)\r\nconst lastPosition = { x: 0, y: 0 }\r\nlet animationFrameId: number | null = null\r\n\r\nconst handleMove = (e?: MouseEvent | { x: number; y: number }) => {\r\n  if (!containerRef.value) return\r\n\r\n  // Debounce with RAF to prevent excessive calculations\r\n  if (animationFrameId) cancelAnimationFrame(animationFrameId)\r\n\r\n  animationFrameId = requestAnimationFrame(() => {\r\n    const element = containerRef.value?.$el || containerRef.value // Handle component ref\r\n    if (!element) return\r\n\r\n    const { left, top, width, height } = element.getBoundingClientRect()\r\n    const mouseX = e && 'x' in e ? e.x : lastPosition.x\r\n    const mouseY = e && 'y' in e ? e.y : lastPosition.y\r\n\r\n    if (e) {\r\n      lastPosition.x = mouseX\r\n      lastPosition.y = mouseY\r\n    }\r\n\r\n    const center = [left + width * 0.5, top + height * 0.5]\r\n    const distanceFromCenter = Math.hypot(mouseX - center[0], mouseY - center[1])\r\n    const inactiveRadius = 0.5 * Math.min(width, height) * props.inactiveZone\r\n\r\n    if (distanceFromCenter < inactiveRadius) {\r\n      isActive.value = false\r\n      return\r\n    }\r\n\r\n    const isClose =\r\n        mouseX > left - props.proximity &&\r\n        mouseX < left + width + props.proximity &&\r\n        mouseY > top - props.proximity &&\r\n        mouseY < top + height + props.proximity\r\n\r\n    isActive.value = isClose\r\n\r\n    if (isClose) {\r\n      const currentAngle = angle.value\r\n      let targetAngle = (180 * Math.atan2(mouseY - center[1], mouseX - center[0])) / Math.PI + 90\r\n\r\n      // Calculate shortest path for smooth rotation to avoid \"spinning back\"\r\n      const angleDiff = ((targetAngle - currentAngle + 180) % 360) - 180\r\n      angle.value = currentAngle + angleDiff\r\n    }\r\n  })\r\n}\r\n\r\nonMounted(() => {\r\n  if (props.disabled) return\r\n\r\n  const handleScroll = () => handleMove()\r\n  const handlePointerMove = (e: PointerEvent) => handleMove({ x: e.clientX, y: e.clientY })\r\n\r\n  window.addEventListener('scroll', handleScroll, { passive: true })\r\n  document.body.addEventListener('pointermove', handlePointerMove, { passive: true })\r\n\r\n  onBeforeUnmount(() => {\r\n    window.removeEventListener('scroll', handleScroll)\r\n    document.body.removeEventListener('pointermove', handlePointerMove)\r\n    if (animationFrameId) cancelAnimationFrame(animationFrameId)\r\n  })\r\n})\r\n\r\nconst gradientStyle = computed(() => {\r\n  const repeat = 5\r\n  if (props.variant === 'white') {\r\n    return `repeating-conic-gradient(\r\n        from 236.84deg at 50% 50%,\r\n        var(--black),\r\n        var(--black) calc(25% / ${repeat})\r\n      )`\r\n  }\r\n  return `radial-gradient(circle, #dd7bbb 10%, #dd7bbb00 20%),\r\n      radial-gradient(circle at 40% 40%, #d79f1e 5%, #d79f1e00 15%),\r\n      radial-gradient(circle at 60% 60%, #5a922c 10%, #5a922c00 20%),\r\n      radial-gradient(circle at 40% 60%, #4c7894 10%, #4c789400 20%),\r\n      repeating-conic-gradient(\r\n        from 236.84deg at 50% 50%,\r\n        #dd7bbb 0%,\r\n        #d79f1e calc(25% / ${repeat}),\r\n        #5a922c calc(50% / ${repeat}),\r\n        #4c7894 calc(75% / ${repeat}),\r\n        #dd7bbb calc(100% / ${repeat})\r\n      )`\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div\r\n      :class=\"cn(\r\n      'pointer-events-none absolute -inset-px hidden rounded-[inherit] border opacity-0 transition-opacity',\r\n      props.glow && 'opacity-100',\r\n      props.variant === 'white' && 'border-white',\r\n      !props.disabled && '!block'\r\n    )\"\r\n  />\r\n  <Motion\r\n      ref=\"containerRef\"\r\n      as=\"div\"\r\n      :initial=\"false\"\r\n      :animate=\"{ '--start': angle }\"\r\n      :transition=\"{\r\n        duration: props.movementDuration,\r\n        ease: [0.16, 1, 0.3, 1]\r\n      }\"\r\n      :style=\"{\r\n        '--blur': `${props.blur}px`,\r\n        '--spread': props.spread,\r\n        '--active': isActive ? '1' : '0',\r\n        '--glowingeffect-border-width': `${props.borderWidth}px`,\r\n        '--repeating-conic-gradient-times': '5',\r\n        '--gradient': gradientStyle\r\n      }\"\r\n      :class=\"cn(\r\n        'pointer-events-none absolute inset-0 rounded-[inherit] opacity-100 transition-opacity',\r\n        props.glow && 'opacity-100',\r\n        props.blur > 0 && 'blur-[var(--blur)]',\r\n        $attrs.class as string,\r\n        props.disabled && '!hidden'\r\n      )\"\r\n  >\r\n    <div\r\n        :class=\"cn(\r\n        'glow',\r\n        'rounded-[inherit]',\r\n        'after:content-[\\'\\'] after:rounded-[inherit] after:absolute after:inset-[calc(-1*var(--glowingeffect-border-width))]',\r\n        'after:[border:var(--glowingeffect-border-width)_solid_transparent]',\r\n        'after:[background:var(--gradient)] after:[background-attachment:fixed]',\r\n        'after:opacity-[var(--active)] after:transition-opacity after:duration-300',\r\n        'after:[mask-clip:padding-box,border-box]',\r\n        'after:[mask-composite:intersect]',\r\n        'after:[mask-image:linear-gradient(#0000,#0000),conic-gradient(from_calc((var(--start)-var(--spread))*1deg),#00000000_0deg,#fff,#00000000_calc(var(--spread)*2deg))]'\r\n      )\"\r\n    />\r\n  </Motion>\r\n</template>",
      "type": "registry:ui"
    },
    {
      "path": "glowing-effect/index.ts",
      "content": "export { default as GlowingEffect } from './GlowingEffect.vue'\n",
      "type": "registry:ui"
    }
  ]
}