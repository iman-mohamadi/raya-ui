{
  "name": "tree",
  "type": "registry:ui",
  "dependencies": [],
  "files": [
    {
      "path": "tree/Tree.vue",
      "content": "<script setup lang=\"ts\" generic=\"T extends Record<string, any>\">\r\nimport { computed } from 'vue'\r\nimport { TreeRoot, TreeItem, useForwardPropsEmits } from 'reka-ui'\r\nimport { ChevronRight, ChevronDown } from 'lucide-vue-next'\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst props = withDefaults(defineProps<{\r\n  items?: T[]\r\n  modelValue?: any\r\n  expanded?: string[]\r\n  defaultExpanded?: string[]\r\n  defaultValue?: any\r\n  multiple?: boolean\r\n  disabled?: boolean\r\n  propagateSelect?: boolean\r\n  getKey?: (item: T) => string\r\n  labelKey?: string\r\n  childrenKey?: string\r\n  class?: string\r\n}>(), {\r\n  items: () => [],\r\n  labelKey: 'label',\r\n  childrenKey: 'children',\r\n  propagateSelect: true\r\n})\r\n\r\nconst emits = defineEmits<{\r\n  'update:modelValue': [value: any]\r\n  'update:expanded': [value: string[]]\r\n  'select': [node: any]\r\n  'toggle': [node: any]\r\n}>()\r\n\r\n// Explicit key resolver to ensure TreeRoot always receives a function\r\nconst itemKeyResolver = (item: any) => {\r\n  if (!item) return ''\r\n  if (props.getKey) {\r\n    return props.getKey(item as T)\r\n  }\r\n  return (item[props.labelKey] as string) || item.id || item.key || ''\r\n}\r\n\r\n// Explicit children resolver\r\nconst itemChildrenResolver = (item: any) => {\r\n  return item?.[props.childrenKey]\r\n}\r\n\r\n// Forward other state/configuration props\r\nconst rootProps = computed(() => ({\r\n  items: props.items,\r\n  modelValue: props.modelValue,\r\n  expanded: props.expanded,\r\n  defaultExpanded: props.defaultExpanded,\r\n  defaultValue: props.defaultValue,\r\n  multiple: props.multiple,\r\n  disabled: props.disabled,\r\n  propagateSelect: props.propagateSelect\r\n}))\r\n\r\nconst forwarded = useForwardPropsEmits(rootProps, emits)\r\n</script>\r\n\r\n<template>\r\n  <TreeRoot\r\n      v-bind=\"forwarded\"\r\n      :get-key=\"itemKeyResolver\"\r\n      :get-children=\"itemChildrenResolver\"\r\n      :class=\"cn('w-full select-none list-none', props.class)\"\r\n      v-slot=\"{ flattenItems }\"\r\n  >\r\n    <TreeItem\r\n        v-for=\"item in flattenItems\"\r\n        :key=\"item._id\"\r\n        v-bind=\"item.bind\"\r\n        :class=\"cn(\r\n        'group relative flex w-full items-center gap-1.5 rounded-sm px-2 py-1.5 text-sm font-medium outline-none transition-colors',\r\n        'hover:bg-muted/50 focus-visible:ring-2 focus-visible:ring-ring',\r\n        'data-[disabled]:pointer-events-none data-[disabled]:opacity-50',\r\n        'cursor-pointer'\r\n      )\"\r\n        :style=\"{ paddingLeft: `${item.level * 1.5}rem` }\"\r\n        v-slot=\"{ isExpanded, isSelected }\"\r\n    >\r\n      <component\r\n          :is=\"isExpanded ? ChevronDown : ChevronRight\"\r\n          v-if=\"item.hasChildren\"\r\n          class=\"h-4 w-4 shrink-0 text-muted-foreground/70 group-hover:text-foreground transition-colors\"\r\n      />\r\n      <span v-else class=\"h-4 w-4 shrink-0\" />\r\n\r\n      <slot name=\"item\" :item=\"item.value\" :expanded=\"isExpanded\" :selected=\"isSelected\">\r\n        <component\r\n            :is=\"item.value.icon\"\r\n            v-if=\"item.value.icon\"\r\n            class=\"h-4 w-4 shrink-0 mr-1 text-muted-foreground group-hover:text-foreground transition-colors\"\r\n            :class=\"{ 'text-foreground': isSelected }\"\r\n        />\r\n\r\n        <span\r\n            class=\"truncate\"\r\n            :class=\"{ 'text-primary font-semibold': isSelected }\"\r\n        >\r\n          {{ item.value[props.labelKey] }}\r\n        </span>\r\n      </slot>\r\n    </TreeItem>\r\n  </TreeRoot>\r\n</template>",
      "type": "registry:ui"
    },
    {
      "path": "tree/index.ts",
      "content": "export { default as Tree } from './Tree.vue'\n",
      "type": "registry:ui"
    }
  ]
}