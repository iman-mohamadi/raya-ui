{
  "name": "background-ripple-effect",
  "type": "registry:ui",
  "dependencies": [
    "clsx",
    "tailwind-merge"
  ],
  "files": [
    {
      "path": "background-ripple-effect/BackgroundRippleEffect.vue",
      "content": "<script setup lang=\"ts\">\r\nimport { ref, computed } from 'vue'\r\nimport { useElementSize } from '@vueuse/core'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface Props {\r\n  class?: string\r\n  rows?: number\r\n  cols?: number\r\n  cellSize?: number\r\n  interactive?: boolean\r\n  borderColor?: string\r\n  fillColor?: string\r\n  /**\r\n   * If true, automatically calculates rows and columns to fill the parent container.\r\n   * Ignores 'rows' and 'cols' props.\r\n   */\r\n  fill?: boolean\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  rows: 8,\r\n  cols: 27,\r\n  cellSize: 56,\r\n  interactive: true,\r\n  borderColor: 'var(--cell-border-color)',\r\n  fillColor: 'var(--cell-fill-color)',\r\n  fill: false,\r\n})\r\n\r\nconst containerRef = ref<HTMLElement | null>(null)\r\nconst { width, height } = useElementSize(containerRef)\r\nconst rippleKey = ref(0)\r\nconst clickedCell = ref<{ row: number; col: number } | null>(null)\r\n\r\n// Calculate grid dimensions\r\nconst calculatedCols = computed(() => {\r\n  if (props.fill && width.value > 0) {\r\n    return Math.ceil(width.value / props.cellSize)\r\n  }\r\n  return props.cols\r\n})\r\n\r\nconst calculatedRows = computed(() => {\r\n  if (props.fill && height.value > 0) {\r\n    return Math.ceil(height.value / props.cellSize)\r\n  }\r\n  return props.rows\r\n})\r\n\r\nconst totalCells = computed(() => calculatedRows.value * calculatedCols.value)\r\n\r\nconst onCellClick = (row: number, col: number) => {\r\n  if (!props.interactive) return\r\n  clickedCell.value = { row, col }\r\n  rippleKey.value += 1\r\n}\r\n\r\nconst getCellStyle = (idx: number) => {\r\n  const colCount = calculatedCols.value\r\n  const row = Math.floor(idx / colCount)\r\n  const col = idx % colCount\r\n\r\n  if (!clickedCell.value) return {}\r\n\r\n  const distance = Math.hypot(\r\n      clickedCell.value.row - row,\r\n      clickedCell.value.col - col\r\n  )\r\n\r\n  const delay = distance * 55\r\n  const duration = 200 + distance * 80\r\n\r\n  return {\r\n    '--delay': `${delay}ms`,\r\n    '--duration': `${duration}ms`,\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div\r\n      ref=\"containerRef\"\r\n      :class=\"cn(\r\n      'absolute inset-0 h-full w-full',\r\n      '[--cell-border-color:var(--color-neutral-300)] [--cell-fill-color:var(--color-neutral-100)] [--cell-shadow-color:var(--color-neutral-500)]',\r\n      'dark:[--cell-border-color:var(--color-neutral-700)] dark:[--cell-fill-color:var(--color-neutral-900)] dark:[--cell-shadow-color:var(--color-neutral-800)]',\r\n      props.class\r\n    )\"\r\n  >\r\n    <div class=\"relative h-full w-full overflow-hidden\">\r\n      <div\r\n          :key=\"rippleKey\"\r\n          :class=\"cn(\r\n          'relative z-[3] mask-radial-from-20% mask-radial-at-top opacity-600',\r\n          'grid mx-auto'\r\n        )\"\r\n          :style=\"{\r\n          gridTemplateColumns: `repeat(${calculatedCols}, ${cellSize}px)`,\r\n          gridTemplateRows: `repeat(${calculatedRows}, ${cellSize}px)`,\r\n          width: `${calculatedCols * cellSize}px`,\r\n          height: `${calculatedRows * cellSize}px`,\r\n        }\"\r\n      >\r\n        <div\r\n            v-for=\"(idx) in Array.from({ length: totalCells }, (_, i) => i)\"\r\n            :key=\"idx\"\r\n            :class=\"cn(\r\n            'cell relative border-[0.5px] opacity-40 transition-opacity duration-150 will-change-transform hover:opacity-80 dark:shadow-[0px_0px_40px_1px_var(--cell-shadow-color)_inset]',\r\n            clickedCell && 'animate-cell-ripple [animation-fill-mode:none]',\r\n            !interactive && 'pointer-events-none'\r\n          )\"\r\n            :style=\"{\r\n            backgroundColor: fillColor,\r\n            borderColor: borderColor,\r\n            ...getCellStyle(idx)\r\n          }\"\r\n            @click=\"onCellClick(Math.floor(idx / calculatedCols), idx % calculatedCols)\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n@keyframes cell-ripple {\r\n  0% {\r\n    background-color: var(--cell-fill-color);\r\n  }\r\n  50% {\r\n    background-color: var(--cell-border-color);\r\n    opacity: 0.8;\r\n  }\r\n  100% {\r\n    background-color: var(--cell-fill-color);\r\n  }\r\n}\r\n\r\n.animate-cell-ripple {\r\n  animation: cell-ripple var(--duration) linear var(--delay) forwards;\r\n}\r\n\r\n.mask-radial-from-20% {\r\n  mask-image: radial-gradient(circle at center, black 20%, transparent 100%);\r\n  -webkit-mask-image: radial-gradient(circle at center, black 20%, transparent 100%);\r\n}\r\n\r\n.mask-radial-at-top {\r\n  mask-position: top;\r\n  -webkit-mask-position: top;\r\n}\r\n</style>",
      "type": "registry:ui"
    },
    {
      "path": "background-ripple-effect/index.ts",
      "content": "export { default as BackgroundRippleEffect } from './BackgroundRippleEffect.vue'\n",
      "type": "registry:ui"
    }
  ]
}