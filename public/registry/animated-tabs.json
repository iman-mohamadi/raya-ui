{
  "name": "animated-tabs",
  "type": "registry:ui",
  "dependencies": [
    "@vueuse/core",
    "clsx",
    "tailwind-merge"
  ],
  "files": [
    {
      "path": "animated-tabs/AnimatedTabs.vue",
      "content": "<script setup lang=\"ts\">\r\nimport { ref, computed, watch, nextTick, onMounted } from 'vue'\r\nimport { TabsRoot, TabsList, TabsTrigger, TabsContent } from 'reka-ui'\r\nimport { cn } from '@/lib/utils'\r\n\r\nexport interface TabItem {\r\n  label: string\r\n  icon?: any\r\n  slot?: string\r\n  content?: string\r\n  disabled?: boolean\r\n  value?: string | number\r\n  [key: string]: any\r\n}\r\n\r\ninterface Props {\r\n  modelValue?: string | number\r\n  items?: TabItem[]\r\n  defaultIndex?: number\r\n  orientation?: 'horizontal' | 'vertical'\r\n  variant?: 'pill' | 'link'\r\n  content?: boolean\r\n  class?: string\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  items: () => [],\r\n  defaultIndex: 0,\r\n  orientation: 'horizontal',\r\n  variant: 'pill',\r\n  content: true\r\n})\r\n\r\nconst emit = defineEmits(['update:modelValue', 'change'])\r\n\r\n// State\r\nconst activeIndex = ref(props.defaultIndex)\r\nconst tabRefs = ref<HTMLElement[]>([])\r\nconst containerRef = ref<HTMLElement | null>(null)\r\n\r\n// Drag State\r\nconst isDown = ref(false)\r\nconst startX = ref(0)\r\nconst scrollLeft = ref(0)\r\nconst isDragging = ref(false)\r\n\r\nconst markerStyle = ref({\r\n  width: '0px',\r\n  height: '0px',\r\n  transform: 'translate(0px, 0px)',\r\n  opacity: 0\r\n})\r\n\r\nconst selected = computed({\r\n  get() {\r\n    if (props.modelValue !== undefined) return props.modelValue\r\n    return activeIndex.value\r\n  },\r\n  set(val) {\r\n    if (props.modelValue !== undefined) {\r\n      emit('update:modelValue', val)\r\n    } else {\r\n      activeIndex.value = Number(val)\r\n    }\r\n    emit('change', val)\r\n  }\r\n})\r\n\r\nconst currentNumericIndex = computed(() => {\r\n  if (props.items && props.items.length > 0) {\r\n    const idx = props.items.findIndex((item, i) =>\r\n        (item.value ?? i) === selected.value\r\n    )\r\n    return idx !== -1 ? idx : 0\r\n  }\r\n  return typeof selected.value === 'number' ? selected.value : 0\r\n})\r\n\r\n// Update Marker Position\r\nconst updateMarker = () => {\r\n  const el = tabRefs.value[currentNumericIndex.value]\r\n  if (!el || !containerRef.value) {\r\n    markerStyle.value.opacity = 0\r\n    return\r\n  }\r\n\r\n  const left = el.offsetLeft\r\n  const top = el.offsetTop\r\n  const width = el.offsetWidth\r\n  const height = el.offsetHeight\r\n\r\n  if (props.variant === 'link') {\r\n    markerStyle.value = {\r\n      width: `${width}px`,\r\n      height: '2px',\r\n      transform: `translate(${left}px, ${height - 2}px)`,\r\n      opacity: 1\r\n    }\r\n  } else {\r\n    markerStyle.value = {\r\n      width: `${width}px`,\r\n      height: `${height}px`,\r\n      transform: `translate(${left}px, ${top}px)`,\r\n      opacity: 1\r\n    }\r\n  }\r\n}\r\n\r\nconst setTabRef = (el: any, index: number) => {\r\n  if (el) tabRefs.value[index] = el.$el || el\r\n}\r\n\r\nconst setContainerRef = (el: any) => {\r\n  if (el) containerRef.value = el.$el || el\r\n}\r\n\r\n// --- Optimized Drag Logic ---\r\nconst startDrag = (e: MouseEvent) => {\r\n  if (!containerRef.value) return\r\n  isDown.value = true\r\n  isDragging.value = false\r\n\r\n  startX.value = e.pageX\r\n  scrollLeft.value = containerRef.value.scrollLeft\r\n}\r\n\r\nconst stopDrag = () => {\r\n  isDown.value = false\r\n  // Delay clearing dragging state to ensure click events are blocked\r\n  setTimeout(() => isDragging.value = false, 100)\r\n}\r\n\r\nconst doDrag = (e: MouseEvent) => {\r\n  if (!isDown.value || !containerRef.value) return\r\n  e.preventDefault()\r\n\r\n  const x = e.pageX\r\n  const walk = (x - startX.value) * 1\r\n\r\n  if (Math.abs(walk) > 5) isDragging.value = true\r\n\r\n  containerRef.value.scrollLeft = scrollLeft.value - walk\r\n}\r\n\r\nconst handleTriggerClick = (e: MouseEvent) => {\r\n  // Backup prevention in case pointer-events trick misses something\r\n  if (isDragging.value) {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n  }\r\n}\r\n\r\nwatch(\r\n    () => [currentNumericIndex.value, props.variant, props.orientation, props.items],\r\n    async () => {\r\n      await nextTick()\r\n      updateMarker()\r\n    },\r\n    { deep: true }\r\n)\r\n\r\nonMounted(async () => {\r\n  await nextTick()\r\n  updateMarker()\r\n  window.addEventListener('resize', updateMarker)\r\n})\r\n</script>\r\n\r\n<template>\r\n  <TabsRoot\r\n      v-model=\"selected\"\r\n      :orientation=\"orientation\"\r\n      :class=\"cn('w-full flex flex-col', props.class)\"\r\n  >\r\n    <TabsList\r\n        :ref=\"setContainerRef\"\r\n        class=\"relative flex items-center gap-1 overflow-x-auto no-scrollbar cursor-grab active:cursor-grabbing select-none bg-transparent\"\r\n        :class=\"[\r\n        orientation === 'vertical' ? 'flex-col items-stretch' : 'flex-row',\r\n        variant === 'pill' ? 'p-1' : 'p-0'\r\n      ]\"\r\n        @mousedown=\"startDrag\"\r\n        @mouseleave=\"stopDrag\"\r\n        @mouseup=\"stopDrag\"\r\n        @mousemove=\"doDrag\"\r\n    >\r\n      <div\r\n          class=\"absolute top-0 left-0 transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] pointer-events-none\"\r\n          :class=\"[\r\n          variant === 'pill'\r\n            ? 'bg-black/10 dark:bg-white/10 shadow-sm rounded-lg border border-border/50'\r\n            : 'bg-primary rounded-t-sm z-20'\r\n        ]\"\r\n          :style=\"markerStyle\"\r\n      ></div>\r\n\r\n      <TabsTrigger\r\n          v-for=\"(item, index) in items\"\r\n          :key=\"index\"\r\n          :value=\"item.value ?? index\"\r\n          :ref=\"(el) => setTabRef(el, index)\"\r\n          :disabled=\"item.disabled\"\r\n          @click.capture=\"handleTriggerClick\"\r\n          class=\"relative z-10 flex items-center justify-center gap-2 px-3 py-1.5 text-sm font-medium transition-colors duration-200 outline-none focus-visible:ring-2 focus-visible:ring-ring whitespace-nowrap flex-shrink-0 data-[state=inactive]:text-muted-foreground data-[state=active]:text-foreground hover:text-foreground disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          :class=\"[\r\n          variant === 'pill' ? 'rounded-lg' : 'rounded-none hover:bg-muted/50',\r\n          isDragging ? 'pointer-events-none' : ''\r\n        ]\"\r\n      >\r\n        <slot name=\"default\" :item=\"item\" :index=\"index\" :selected=\"selected === (item.value ?? index)\">\r\n          <component :is=\"item.icon\" v-if=\"item.icon\" class=\"h-4 w-4\" />\r\n          <span>{{ item.label }}</span>\r\n        </slot>\r\n      </TabsTrigger>\r\n    </TabsList>\r\n\r\n    <div v-if=\"content\" class=\"mt-4\">\r\n      <TabsContent\r\n          v-for=\"(item, index) in items\"\r\n          :key=\"index\"\r\n          :value=\"item.value ?? index\"\r\n          class=\"focus:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded-md\"\r\n      >\r\n        <slot :name=\"item.slot || 'item'\" :item=\"item\" :index=\"index\" :selected=\"selected === (item.value ?? index)\">\r\n          <div v-if=\"item.content\" v-html=\"item.content\"></div>\r\n        </slot>\r\n      </TabsContent>\r\n    </div>\r\n  </TabsRoot>\r\n</template>\r\n\r\n<style scoped>\r\n.no-scrollbar::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n.no-scrollbar {\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n}\r\n</style>",
      "type": "registry:ui"
    },
    {
      "path": "animated-tabs/index.ts",
      "content": "export { default as AnimatedTabs } from './AnimatedTabs.vue'\nexport type { TabItem } from './AnimatedTabs.vue'\n",
      "type": "registry:ui"
    }
  ]
}