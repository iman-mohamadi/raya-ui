{
  "name": "floating-dock",
  "type": "registry:ui",
  "dependencies": [
    "@vueuse/core",
    "clsx",
    "tailwind-merge"
  ],
  "files": [
    {
      "path": "floating-dock/FloatingDock.vue",
      "content": "<script setup lang=\"ts\">\r\nimport FloatingDockDesktop from './FloatingDockDesktop.vue'\r\nimport FloatingDockMobile from './FloatingDockMobile.vue'\r\n\r\ninterface DockItem {\r\n  title: string\r\n  icon: any\r\n  href: string\r\n}\r\n\r\ndefineProps<{\r\n  items: DockItem[]\r\n  desktopClass?: string\r\n  mobileClass?: string\r\n}>()\r\n</script>\r\n\r\n<template>\r\n  <FloatingDockDesktop :items=\"items\" :class=\"desktopClass\" />\r\n  <FloatingDockMobile :items=\"items\" :class=\"mobileClass\" />\r\n</template>",
      "type": "registry:ui"
    },
    {
      "path": "floating-dock/FloatingDockDesktop.vue",
      "content": "<script setup lang=\"ts\">\r\nimport { ref } from 'vue'\r\nimport { cn } from '@/lib/utils'\r\nimport FloatingDockIcon from './FloatingDockIcon.vue'\r\n\r\ninterface DockItem {\r\n  title: string\r\n  icon: any\r\n  href: string\r\n}\r\n\r\nconst props = defineProps<{\r\n  items: DockItem[]\r\n  class?: string\r\n}>()\r\n\r\nconst mouseX = ref<number>(Infinity)\r\n</script>\r\n\r\n<template>\r\n  <div\r\n      :class=\"cn(\r\n      'mx-auto hidden h-16 items-end gap-4 rounded-2xl bg-gray-50 px-4 pb-3 md:flex dark:bg-neutral-900',\r\n      props.class\r\n    )\"\r\n      @mousemove=\"(e) => mouseX = e.pageX\"\r\n      @mouseleave=\"() => mouseX = Infinity\"\r\n  >\r\n    <FloatingDockIcon\r\n        v-for=\"item in items\"\r\n        :key=\"item.title\"\r\n        :mouse-x=\"mouseX\"\r\n        :title=\"item.title\"\r\n        :icon=\"item.icon\"\r\n        :href=\"item.href\"\r\n    />\r\n  </div>\r\n</template>",
      "type": "registry:ui"
    },
    {
      "path": "floating-dock/FloatingDockMobile.vue",
      "content": "<script setup lang=\"ts\">\r\nimport { ref } from 'vue'\r\nimport { LayoutGrid } from 'lucide-vue-next' // Generic fallback icon\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface DockItem {\r\n  title: string\r\n  icon: any\r\n  href: string\r\n}\r\n\r\nconst props = defineProps<{\r\n  items: DockItem[]\r\n  class?: string\r\n}>()\r\n\r\nconst open = ref(false)\r\n</script>\r\n\r\n<template>\r\n  <div :class=\"cn('relative block md:hidden', props.class)\">\r\n    <Transition\r\n        enter-active-class=\"transition duration-300 ease-out\"\r\n        enter-from-class=\"opacity-0 translate-y-4\"\r\n        enter-to-class=\"opacity-100 translate-y-0\"\r\n        leave-active-class=\"transition duration-200 ease-in\"\r\n        leave-from-class=\"opacity-100 translate-y-0\"\r\n        leave-to-class=\"opacity-0 translate-y-4\"\r\n    >\r\n      <div v-if=\"open\" class=\"absolute bottom-full mb-4 inset-x-0 flex flex-col gap-2 items-center\">\r\n        <a\r\n            v-for=\"(item, idx) in items\"\r\n            :key=\"item.title\"\r\n            :href=\"item.href\"\r\n            class=\"flex h-10 w-10 items-center justify-center rounded-full bg-gray-50 dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 shadow-sm\"\r\n        >\r\n          <component :is=\"item.icon\" class=\"h-4 w-4 text-neutral-500 dark:text-neutral-300\" />\r\n        </a>\r\n      </div>\r\n    </Transition>\r\n\r\n    <button\r\n        @click=\"open = !open\"\r\n        class=\"flex h-10 w-10 items-center justify-center rounded-full bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700\"\r\n    >\r\n      <LayoutGrid class=\"h-5 w-5 text-neutral-500 dark:text-neutral-400\" />\r\n    </button>\r\n  </div>\r\n</template>",
      "type": "registry:ui"
    },
    {
      "path": "floating-dock/FloatingDockIcon.vue",
      "content": "<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted, onUnmounted, watch } from 'vue'\r\n\r\nconst props = defineProps<{\r\n  mouseX: number\r\n  title: string\r\n  icon: any\r\n  href: string\r\n}>()\r\n\r\nconst elRef = ref<HTMLElement | null>(null)\r\nconst bounds = ref({ x: 0, width: 0 })\r\nconst hover = ref(false)\r\n\r\n// 1. Efficiently get bounds\r\nconst updateBounds = () => {\r\n  if (elRef.value) {\r\n    const rect = elRef.value.getBoundingClientRect()\r\n    bounds.value = {\r\n      // Add scrollX to ensure position is correct relative to the document\r\n      x: rect.left + window.scrollX,\r\n      width: rect.width\r\n    }\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  updateBounds()\r\n  window.addEventListener('resize', updateBounds)\r\n  window.addEventListener('scroll', updateBounds)\r\n})\r\n\r\nonUnmounted(() => {\r\n  window.removeEventListener('resize', updateBounds)\r\n  window.removeEventListener('scroll', updateBounds)\r\n})\r\n\r\n// 2. Calculate Target Dimensions\r\nconst baseWidth = 40\r\nconst distanceLimit = 150\r\nconst distanceInput = computed(() => {\r\n  if (props.mouseX === Infinity) return Infinity\r\n  // Distance from center of the icon\r\n  return props.mouseX - (bounds.value.x + bounds.value.width / 2)\r\n})\r\n\r\nconst targetWidth = computed(() => {\r\n  const distance = distanceInput.value\r\n  if (Math.abs(distance) > distanceLimit) return baseWidth\r\n\r\n  // Cosine interpolation for a smoother bell-curve feel than linear\r\n  const percent = (1 - Math.abs(distance) / distanceLimit)\r\n  // Maps -150..0..150 to 0..1..0\r\n\r\n  // Using simple easing for better feel\r\n  const eased = percent * percent // Ease in-outish\r\n\r\n  return baseWidth + (40 * percent) // 40px base + up to 40px growth\r\n})\r\n\r\n// 3. Stable Spring Physics (Mass-Spring-Damper)\r\n// We increase mass to 1.0 to prevent instability explosions.\r\nconst width = ref(baseWidth)\r\nlet velocity = 0\r\n\r\n// Constants tuned for \"Bouncy but Stable\"\r\nconst mass = 1\r\nconst stiffness = 150 // Tension\r\nconst damping = 15    // Friction\r\n\r\nlet rafId: number | null = null\r\nlet lastTime = 0\r\n\r\nconst animate = (time: number) => {\r\n  if (!lastTime) lastTime = time\r\n\r\n  // Calculate Delta Time in seconds (capped at 0.1s to prevent explosion on lag)\r\n  const dt = Math.min((time - lastTime) / 1000, 0.1)\r\n  lastTime = time\r\n\r\n  const current = width.value\r\n  const target = targetWidth.value\r\n\r\n  // Spring Force: F = -k(x - target)\r\n  const springForce = -stiffness * (current - target)\r\n\r\n  // Damping Force: F = -d * v\r\n  const dampingForce = -damping * velocity\r\n\r\n  // Acceleration: a = F / m\r\n  const acceleration = (springForce + dampingForce) / mass\r\n\r\n  // Euler Integration\r\n  velocity += acceleration * dt\r\n  width.value += velocity * dt\r\n\r\n  // Clamp width to sane values to absolutely prevent the 3.4e38px bug\r\n  if (width.value < baseWidth) width.value = baseWidth\r\n  if (width.value > 150) width.value = 150\r\n\r\n  // Stop condition: low velocity and close to target\r\n  if (Math.abs(velocity) < 0.05 && Math.abs(current - target) < 0.05) {\r\n    width.value = target\r\n    velocity = 0\r\n    rafId = null\r\n    lastTime = 0 // Reset time for next run\r\n  } else {\r\n    rafId = requestAnimationFrame(animate)\r\n  }\r\n}\r\n\r\n// Trigger animation loop\r\nwatch(targetWidth, () => {\r\n  if (rafId === null) {\r\n    lastTime = 0\r\n    rafId = requestAnimationFrame(animate)\r\n  }\r\n})\r\n\r\n// Styles\r\nconst widthPx = computed(() => `${width.value.toFixed(2)}px`) // Limit decimals for CSS\r\nconst iconScale = computed(() => {\r\n  // Map width (40..80) to scale (1..1.5)\r\n  const ratio = (width.value - baseWidth) / 40\r\n  // returns 0 at rest, 1 at max\r\n  return 1 + (ratio * 0.5) // Scale from 1.0 to 1.5\r\n})\r\n</script>\r\n\r\n<template>\r\n  <a :href=\"href\" class=\"relative group\">\r\n    <div\r\n        ref=\"elRef\"\r\n        class=\"relative flex aspect-square cursor-pointer items-center justify-center rounded-full bg-gray-200 dark:bg-neutral-800 will-change-[width,height,transform]\"\r\n        :style=\"{ width: widthPx, height: widthPx }\"\r\n        @mouseenter=\"hover = true\"\r\n        @mouseleave=\"hover = false\"\r\n    >\r\n      <Transition\r\n          enter-active-class=\"transition duration-200 ease-out\"\r\n          enter-from-class=\"opacity-0 translate-y-2\"\r\n          enter-to-class=\"opacity-100 translate-y-0\"\r\n          leave-active-class=\"transition duration-150 ease-in\"\r\n          leave-from-class=\"opacity-100 translate-y-0\"\r\n          leave-to-class=\"opacity-0 translate-y-2\"\r\n      >\r\n        <div\r\n            v-if=\"hover\"\r\n            class=\"absolute -top-10 left-1/2 -translate-x-1/2 w-fit whitespace-pre rounded-md border border-gray-200 bg-gray-100 px-2 py-0.5 text-xs text-neutral-700 dark:border-neutral-900 dark:bg-neutral-800 dark:text-white z-50 shadow-sm\"\r\n        >\r\n          {{ title }}\r\n        </div>\r\n      </Transition>\r\n\r\n      <div\r\n          class=\"flex items-center justify-center will-change-transform\"\r\n          :style=\"{ transform: `scale(${iconScale})` }\"\r\n      >\r\n        <component :is=\"icon\" class=\"h-5 w-5 text-neutral-500 dark:text-neutral-300\" />\r\n      </div>\r\n    </div>\r\n  </a>\r\n</template>",
      "type": "registry:ui"
    },
    {
      "path": "floating-dock/index.ts",
      "content": "export { default as FloatingDock } from './FloatingDock.vue'\n",
      "type": "registry:ui"
    }
  ]
}